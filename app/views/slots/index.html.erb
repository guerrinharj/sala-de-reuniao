<h1>Reserva de Sala</h1>

<div class="modal-outer d-flex justify-content-center align-items-center">
  <div id="modal-inner">
  </div>
</div>

<table>
  <thead>
    <tr>
      <th class="px-4 border border-dark"> Hor√°rio </th>
      <% @days.each do |day| %>
      <th class="px-4 border border-dark"> <%= day %> </th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @hours.each do |hour| %>
      <tr>
        <td class="p-4 border border-dark"> <%= hour %>:00  </td>
        <% @days.each do |day| %>
        <td class="disponivel p-4 border border-dark">
          <% @slots.each do |slot| %>
            <% if slot.day == day && slot.hour == "#{hour}:00"%>
                <% if slot.reservations.empty? %>
                <div class="slot-<%=slot.id%>">
                <%= link_to "Disponivel", new_slot_reservation_path(slot), remote: true %>
                </div>
                <% else %>
                <div class="slot-<%= slot.id %>-reservation-<%=slot.reservations.last.id%>">
                <p>Reservado para <%= slot.reservations.last.user.name %></p>
                <p> <%= link_to "Deletar?", slot_reservation_path(slot, slot.reservations.last), method: :delete,  data: { confirm: "Are you sure?" }, remote: true %></p>
                <% end %>
                </div>
            <% end %>
          <% end %>
        <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
